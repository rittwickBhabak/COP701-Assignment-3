(function(){'use strict';var utmParams=['utm_medium','utm_source','utm_campaign','utm_content','utm_term','utm_adgroup','utm_leadsource'];var utmFieldMapping={'482-YUQ-296':{p4_utmOrigVals:{utm_adgroup:'Original_Adgroup__c',utm_medium:'Original_UTM_Medium__c',utm_source:'Original_UTM_Source__c',utm_campaign:'Original_UTM_Campaign__c',utm_content:'WebContent__c',utm_term:'Original_UTM_Term__c',},p4_utmVals:{utm_medium:'WebMedium__c',utm_source:'Current_Channel_Code__c',utm_campaign:'WebCampaign__c',utm_content:'WebContent__c',utm_term:'Last_Keyword__c',utm_adgroup:'Current_Adgroup__c',utm_leadsource:'LeadSource',},},'059-ALG-683':{p4_utmOrigVals:{},p4_utmVals:{utm_medium:'UTMMedium',utm_source:'uTMSource',utm_campaign:'UTMCampaign',utm_content:'uTMContent',utm_term:'rw_utmterm',utm_leadsource:'LeadSource',},},'173-DTI-322':{p4_utmOrigVals:{utm_medium:'Original_UTM_Medium__c',utm_source:'Original_UTM_Source__c',utm_campaign:'Original_UTM_Campaign__c',utm_content:'Original_UTM_Content__c',utm_term:'Original_UTM_Term__c',utm_adgroup:'Original_UTM_Ad_Group__c',},p4_utmVals:{utm_medium:'utmmedium',utm_source:'utmsource',utm_campaign:'utmcampaign',utm_term:'utmterm',utm_adgroup:'Ad_Group__c',utm_leadsource:'LeadSource',},},'937-VOA-026':{p4_utmOrigVals:{utm_medium:'Original_UTM_Medium__c',utm_source:'Original_UTM_Source__c',utm_campaign:'Original_UTM_Campaign__c',utm_content:'Original_UTM_Content__c',utm_term:'Original_UTM_Term__c',utm_adgroup:'Original_UTM_Ad_Group__c',},p4_utmVals:{utm_medium:'UTM_Medium__c',utm_source:'UTM_Source__c',utm_campaign:'UTM_Campaign__c',utm_content:'UTM_Content__c',utm_term:'UTM_Term__c',utm_adgroup:'UTM_Ad_Group__c',utm_leadsource:'LeadSource',},},'846-HEL-222':{p4_utmOrigVals:{utm_medium:'orig_utm_medium',utm_source:'orig_utm_source',utm_campaign:'orig_utm_campaign',utm_content:'orig_utm_content',utm_term:'orig_utm_term',utm_adgroup:'orig_utm_ad_group',},p4_utmVals:{utm_medium:'utm_medium',utm_source:'utm_source',utm_campaign:'utm_campaign',utm_content:'utm_content',utm_term:'utm_term',utm_adgroup:'utm_ad_group',},},};var hostnamesToAllow=['perforce.com','www.perforce.com','info.perforce.com','answers.perforce.com','forums.perforce.com','perforce.com','community.perforce.com','perforceu.perforce.com','hansoft.com','www.hansoft.com','info.hansoft.com','perfecto.io','info.perfecto.io','www.perfecto.io','info.perfectomobile.com','www.testcraft.io','info.testcraft.io','testcraft.io','roguewave.com','www.roguewave.com','zend.com','www.zend.com','jrebel.com','www.jrebel.com','akana.com','www.akana.com','openlogic.com','www.openlogic.com','totalview.io','www.totalview.io','imsl.com','www.imsl.com','marketing.perforce.com','resources.roguewave.com','resources.openlogic.com','resources.zend.com','resources.akana.com','resources.totalview.com','resources.imsl.com','info.jrebel.com','gliffy.com','www.gliffy.com','www.blazemeter.com','data.blazemeter.com','sense.blazemeter.com','ml.blazemeter.com','shiftleft.blazemeter.com','converter.blazemeter.com','harviewer.blazemeter.com','onboarding.blazemeter.com','apidocs.blazemeter.com','guide.blazemeter.com','auth.blazemeter.com','a.blazemeter.com','blazemeter.com','info.blazemeter.com','mock.blazemeter.com','community.blazemeter.com','docs.blazemeter.com','go.blazemeter.com','runscope.com','www.runscope.com','blog.runscope.com',];var version='200417';var cookieName='p4_utmVals';var cookieOrigName='p4_utmOrigVals';var cookieExpiry=180;var cookieDomain='';var _=function(msg){if(location.hash==='#debug'){console.log(msg);}};var getQueryVar=function(queryVar){queryVar=queryVar.replace(/[*+?^$.\[\]{}()|\\\/]/g,'\\$&');var match=location.search.match(new RegExp('[?&]'+queryVar+'=([^&]+)(&|$)'));return match&&decodeURIComponent(match[1].replace(/\+/g,' '));};var getCookie=function(name){var v=document.cookie.match('(^|;) ?'+name+'=([^;]*)(;|$)');return v?JSON.parse(v[2]):null;};var setCookie=function(name,value,days,domain){var d=new Date();d.setTime(d.getTime()+24*60*60*1000*days);var cookieDomain='';if(typeof domain==='string'&&domain.length>0){cookieDomain=';domain=.'+domain;}
document.cookie=name+'='+JSON.stringify(value)+';path=/;expires='+d.toGMTString()+cookieDomain;};var deleteCookie=function(name,domain){setCookie(name,'',-1,domain);};var getCookieDomain=function(){var p4_testCookie='p4_test';var hostname=location.hostname.split('.');var cookieDomain='';for(var i=hostname.length-1;i>=0;i--){cookieDomain=cookieDomain.length>0?hostname[i]+'.'+cookieDomain:hostname[i];setCookie(p4_testCookie,cookieDomain,1,cookieDomain);if(getCookie(p4_testCookie)){deleteCookie(p4_testCookie,cookieDomain);return cookieDomain;}else{if(i===0){return null;}}}};var getHiddenFields=function(form,c){var cookie=getCookie(c);var tmp={};var munchkinId=form.getValues().munchkinId;if(typeof utmFieldMapping[munchkinId]==='undefined'){_('No UTM field mapping found for this Munchkin ID');return;}
Object.keys(cookie).forEach(function(k){tmp[utmFieldMapping[munchkinId][c][k]]=cookie[k];});return tmp;};var recordNone=function(){_('Checking for '+cookieOrigName+' cookie...');if(getCookie(cookieOrigName)){_(cookieOrigName+' cookie already set; no change');}else{var tmp={};Object.keys(utmParams).forEach(function(i){tmp[utmParams[i]]='none';});setCookie(cookieOrigName,tmp,cookieExpiry,cookieDomain);_('Set '+cookieOrigName+' cookie with "none"');}};var init=function(){_('Running init() function');var queryUtmVals={};var queryOrigUtmVals={};var qsVar='';var qsVarCount=0;var cookies=[cookieName,cookieOrigName];cookieDomain=getCookieDomain();_('Cookie domain is '+cookieDomain);_('Checking for query string...');if(location.search.length){_('Query string found; searching for UTM parameters and values...');var utm_param;for(utm_param in utmParams){qsVar=getQueryVar(utmParams[utm_param]);if(qsVar){qsVarCount++;queryUtmVals[utmParams[utm_param]]=qsVar;}else{queryUtmVals[utmParams[utm_param]]='NULL';}}
for(utm_param in utmParams){qsVar=getQueryVar(utmParams[utm_param]);if(qsVar){queryOrigUtmVals[utmParams[utm_param]]=qsVar;}else{queryOrigUtmVals[utmParams[utm_param]]='none';}}
if(qsVarCount>0){_('Found '+qsVarCount+' UTM values in query string');setCookie(cookieName,queryUtmVals,cookieExpiry,cookieDomain);_('Set '+cookieName+' cookie with '+qsVarCount+' UTM values');_('Checking for '+cookieOrigName+' cookie...');if(getCookie(cookieOrigName)){_(cookieOrigName+' cookie already set; no change');}else{setCookie(cookieOrigName,queryOrigUtmVals,cookieExpiry,cookieDomain);_('Set '+cookieOrigName+' cookie with '+Object.keys(queryOrigUtmVals).length+' UTM values');}}else{_('No UTM values present in query string');recordNone();}}else{_('No query string found');recordNone();}
var modifyUrls=function(utmVals){var queryString='';var i=0;for(let[key,value]of Object.entries(utmVals)){if(value!='NULL'){if(i>0){queryString=queryString+'&'+key.replace('original_','')+'='+value;}else{queryString=queryString+key.replace('__c','')+'='+value;}
i++;}}
var links=Array.prototype.slice.apply(document.getElementsByTagName('a'));links.forEach(function(link){var href=link.href,linkHost=link.hostname;if(isInArray(linkHost,hostnamesToAllow)&&linkHost!=window.location.hostname){if(href.indexOf('#')<0&&href.indexOf('?')>0){var basePath=href.split('?')[0];var originalQuery=href.split('?')[1];originalQuery=betterTrim(originalQuery,'/');link.setAttribute('href',basePath+'?'+mergeQueryStrings(originalQuery,queryString));}else{if(href.indexOf('#tab')<0){link.setAttribute('href',href+'?'+queryString);}}}});};function mergeQueryStrings(originalQuery,newQuery){var originalQueryArray=betterTrim(originalQuery,'?').split('&'),newQueryArray=betterTrim(newQuery,'?').split('&');var uniqueOriginalQueryArray=originalQueryArray.filter(isUniqueQueryStringKey(newQueryArray));var mergedQueryStringArray=newQueryArray.concat(uniqueOriginalQueryArray);return mergedQueryStringArray.join('&');}
function betterTrimLeft(string,charlist){if(charlist===undefined)charlist='s';return string.replace(new RegExp('^['+charlist+']+'),'');}
function betterTrimRight(string,charlist){if(charlist===undefined)charlist='s';return string.replace(new RegExp('['+charlist+']+$'),'');}
function betterTrim(string,charlist){return betterTrimRight(betterTrimLeft(string,charlist),charlist);}
function isInArray(value,array){return array.indexOf(value)>-1;}
function isUniqueQueryStringKey(needle){return function(el){var key=el.split('=')[0];for(var i=0;i<needle.length;i++){if(key===needle[i].split('=')[0]){return false;}}
return true;};}
var utmString=getCookie(cookieName);if(utmString!=null){modifyUrls(utmString);}
var addHiddenFields=function(cookies){MktoForms2.whenReady(function(form){var f=form.getFormElem()[0];var $=MktoForms2.$;_('Marketo form detected (#mktoForm_'+form.getId()+')');cookies.forEach(function(c){_('Checking for '+c+' cookie...');if(getCookie(c)){_('Found '+c+' cookie with '+Object.keys(getCookie(c)).length+' UTM values');_('Adding UTM values from '+c+' cookie to Marketo form #mktoForm_'+form.getId());form.addHiddenFields(getHiddenFields(form,c));if(!$(f).attr('digitalpi-utms-added')){$(f).attr('digitalpi-utms-added',true);}}else{_(c+' cookie not found');}});form.onSuccess(function(){_('Marketo form (#mktoForm_'+form.getId()+') submitted successfully with UTM data; deleting '+cookieName+' cookie');deleteCookie(cookieName,cookieDomain);});});};_('Checking for MktoForms2 API...');if(typeof MktoForms2==='object'){_('MktoForms2 API detected');addHiddenFields(cookies);}else{_('MktoForms2 API not detected; checking for Wistia');var times=0;window._wq=window._wq||[];_wq.push({id:'_all',onReady:function(video){var mktoCheck=setInterval(function(){if(typeof MktoForms2==='object'){clearInterval(mktoCheck);addHiddenFields(cookies);}else{if(times===30){clearInterval(mktoCheck);}else{times++;}}},100);},});}};window.addEventListener('load',e=>{if(typeof hbspt==='object'){var form=document.getElementsByClassName('hs-form');var vals=getCookie('p4_utmVals');if(vals!='undefined'){var key,val;for([key,val]of Object.entries(vals)){if(form[0].elements[key]!=='undefined'&&typeof form[0].elements[key]!=='undefined'){form[0].elements[key].value=val;}}}}});if(/complete|interactive|loaded/.test(document.readyState)){_('Document loaded; calling init()');init();}else{_('Document not loaded; setting DOMContentLoaded event listener to call init()');document.addEventListener('DOMContentLoaded',function(){_('DOMContentLoaded event fired; calling init()');init();});}
window.addEventListener('acquiaLiftContentAvailable',function(e){var liftUtmVals={utm_source:'lift',utm_medium:'personalization',utm_campaign:e.detail.decision_campaign_name,utm_content:window.location.pathname,utm_term:e.detail.decision_slot_name,utm_adgroup:e.detail.decision_rule_segment_name,};var liftLinks=document.querySelectorAll("[data-lift-slot='"+e.detail.decision_slot_id+"'] a");for(var i=0;i<liftLinks.length;++i){liftLinks[i].search='';liftLinks[i].setAttribute('data-utms',JSON.stringify(liftUtmVals));liftLinks[i].addEventListener('click',function(e){setLiftCookie(e);},false);}});var setLiftCookie=function(e){var utms=e.currentTarget.getAttribute('data-utms');if(utms!=='undefined'){setCookie(cookieName,JSON.parse(utms),1,cookieDomain);}};})();